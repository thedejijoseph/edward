<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">

  <link rel="stylesheet" href="{{ static_url('bootstrap/css/bootstrap.min.css') }}">
  <title>Edith - Let's Connect</title>
</head>
<body class="bg-dark">
  <div class="container-fluid">
    <div class="container">
      <div class="row justify-content-center my-5">
        <div class="col-md-3">
          <p class="display-4 text-white">Yay!</p>
          <p class="text-muted">We linking up. <br>We making awesome.</p>
          <p class="text-primary"><a href="/">&larr;Home</a></p>
        </div>
        <div class="col-md-5">
          <form>
            <div class="form-group">
              <label for="full-name">Full name</label>
              <input type="text" class="form-control" id="full_name" placeholder="You could do first name first">
            </div>
            <div class="form-group">
              <label for="email-address">Email address</label>
              <input type="email" class="form-control" id="email_address" aria-describedby="email" placeholder="Gmail? Others are fine too though">
            </div>
            <div class="form-group">
              <label for="phone-number">Phone number</label>
              <input type="" class="form-control" id="phone_number" placeholder="International format is swell">
            </div>
            <button type="submit" class="btn btn-primary px-3" id="pressure-btn">Connect</button>
            <div id="feedback" class="d-inline ml-3"></div>
          </form>
        </div>
      </div>
    </div>
  </div>

  <!-- scripts -->
  <script src="{{ static_url('jquery/jquery.min.js') }}"></script>
  <script src="{{ static_url('bootstrap/js/bootstrap.bundle.min.js') }}"></script>

  <script>
  $('#pressure-btn').on('click', function(e){
    e.preventDefault();
    $.ajax(
      '/connect',
      {
      method: 'POST',
      data: {
        full_name: $('#full_name').val(),
        email_address: $('#email_address').val(),
        phone_number: $('#phone_number').val()
      }
    }).done(function(data){
      let resp = JSON.parse(data);
      let message = resp.message;
      let feedback = '<span class="text-light">' + message + '</span>';
      $('div#feedback').empty();
      $('div#feedback').append(feedback);
    });
  });
  </script>
</body>
</html>